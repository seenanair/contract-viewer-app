{"ast":null,"code":"var _jsxFileName = \"/Users/seenanair/Desktop/Personal/INTERVIEW/DEMO/FEATURE_SPACE/FeatureSpace_Demo/feature-space-app/src/pages/Display/PostcodeNearestInfo.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Table } from '../../Components/Table/Table';\nimport { useFetch } from '../../hooks/useFetch';\nimport Wrapper from '../../utils/Wrapper';\nimport classes from './PostcodeDisplay.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const PostcodeNearestInfo = ({\n  postcode\n}) => {\n  _s();\n\n  const {\n    data,\n    loading,\n    error\n  } = useFetch(`https://api.postcodes.io/postcodes/${postcode}/nearest`);\n\n  const getData = data => {\n    if (data && data.result) return data.result;else return [];\n  };\n\n  const postcodeData = React.useMemo(() => getData(data), [data]); //Create table structure\n\n  const prepareSummaryTableColumns = () => {\n    const width = [50, 100, 100];\n    return [{\n      Header: () => 'Nearest postcodes',\n      id: 'axes-header',\n      columns: ['postcode', 'region', 'country'].map((th, idx) => {\n        return {\n          Header: th.charAt(0).toUpperCase() + th.slice(1),\n          accessor: th,\n          width: width[idx]\n        };\n      })\n    }];\n  }; //Fomat data to display as summary\n\n\n  const formatSummaryData = data => {\n    return data.map(entry => ({\n      id: entry.postcode,\n      region: entry.region,\n      country: entry.country\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.Loader\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.ContainerText,\n        children: \"Loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true) : Object.keys(error).length !== 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \" Error while fetching data\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 25\n    }, this) : /*#__PURE__*/_jsxDEV(Table, {\n      columns: prepareSummaryTableColumns(),\n      data: formatSummaryData(postcodeData),\n      pageIndexValue: 0,\n      pageSizeValue: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 26\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n\n_s(PostcodeNearestInfo, \"v1Jz2woUITM4O8OeQPgaGWu1Wgg=\", false, function () {\n  return [useFetch];\n});\n\n_c = PostcodeNearestInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostcodeNearestInfo\");","map":{"version":3,"sources":["/Users/seenanair/Desktop/Personal/INTERVIEW/DEMO/FEATURE_SPACE/FeatureSpace_Demo/feature-space-app/src/pages/Display/PostcodeNearestInfo.tsx"],"names":["React","Table","useFetch","Wrapper","classes","PostcodeNearestInfo","postcode","data","loading","error","getData","result","postcodeData","useMemo","prepareSummaryTableColumns","width","Header","id","columns","map","th","idx","charAt","toUpperCase","slice","accessor","formatSummaryData","entry","region","country","Loader","ContainerText","Object","keys","length"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,8BAAtB;AACA,SAASC,QAAT,QAAyB,sBAAzB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,OAAP,MAAoB,8BAApB;;;AAEA,OAAO,MAAMC,mBAAmB,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAmC;AAAA;;AAElE,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,OAAR;AAAiBC,IAAAA;AAAjB,MAA2BP,QAAQ,CAAE,sCAAqCI,QAAS,UAAhD,CAAzC;;AACA,QAAMI,OAAO,GAAIH,IAAD,IAAmB;AAC/B,QAAIA,IAAI,IAAIA,IAAI,CAACI,MAAjB,EAAyB,OAAOJ,IAAI,CAACI,MAAZ,CAAzB,KACK,OAAO,EAAP;AACR,GAHD;;AAKA,QAAMC,YAAY,GAAGZ,KAAK,CAACa,OAAN,CAAc,MAAMH,OAAO,CAACH,IAAD,CAA3B,EAAmC,CAACA,IAAD,CAAnC,CAArB,CARkE,CAUlE;;AACA,QAAMO,0BAA0B,GAAG,MAAM;AACrC,UAAMC,KAAc,GAAG,CAAC,EAAD,EAAI,GAAJ,EAAQ,GAAR,CAAvB;AACA,WAAO,CACH;AACIC,MAAAA,MAAM,EAAE,MAAM,mBADlB;AAEIC,MAAAA,EAAE,EAAE,aAFR;AAGIC,MAAAA,OAAO,EAAE,CAAC,UAAD,EAAY,QAAZ,EAAsB,SAAtB,EAAiCC,GAAjC,CAAqC,CAACC,EAAD,EAAKC,GAAL,KAAa;AACvD,eAAO;AACHL,UAAAA,MAAM,EAAGI,EAAE,CAACE,MAAH,CAAU,CAAV,EAAaC,WAAb,KAA6BH,EAAE,CAACI,KAAH,CAAS,CAAT,CADnC;AAEHC,UAAAA,QAAQ,EAAEL,EAFP;AAGHL,UAAAA,KAAK,EAAEA,KAAK,CAACM,GAAD;AAHT,SAAP;AAKH,OANQ;AAHb,KADG,CAAP;AAaH,GAfD,CAXkE,CA4BlE;;;AACA,QAAMK,iBAAiB,GAAInB,IAAD,IAAe;AACrC,WAAOA,IAAI,CAACY,GAAL,CAAUQ,KAAD,KAAiB;AAAEV,MAAAA,EAAE,EAAEU,KAAK,CAACrB,QAAZ;AAAsBsB,MAAAA,MAAM,EAAED,KAAK,CAACC,MAApC;AAA4CC,MAAAA,OAAO,EAACF,KAAK,CAACE;AAA1D,KAAjB,CAAT,CAAP;AACH,GAFD;;AAIA,sBACI,QAAC,OAAD;AAAA,cACSrB,OAAO,gBACN;AAAA,8BACE;AAAK,QAAA,SAAS,EAAEJ,OAAO,CAAC0B;AAAxB;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAK,QAAA,SAAS,EAAE1B,OAAO,CAAC2B,aAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA,oBADM,GAMNC,MAAM,CAACC,IAAP,CAAYxB,KAAZ,EAAmByB,MAAnB,KAA8B,CAA9B,gBACM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADN,gBAEO,QAAC,KAAD;AACL,MAAA,OAAO,EAAEpB,0BAA0B,EAD9B;AAEL,MAAA,IAAI,EAAEY,iBAAiB,CAACd,YAAD,CAFlB;AAGL,MAAA,cAAc,EAAE,CAHX;AAIL,MAAA,aAAa,EAAE;AAJV;AAAA;AAAA;AAAA;AAAA;AATjB;AAAA;AAAA;AAAA;AAAA,UADJ;AAmBH,CApDM;;GAAMP,mB;UAEwBH,Q;;;KAFxBG,mB","sourcesContent":["import React from 'react';\nimport { Table } from '../../Components/Table/Table';\nimport { useFetch } from '../../hooks/useFetch';\nimport Wrapper from '../../utils/Wrapper';\nimport classes from './PostcodeDisplay.module.css';\n\nexport const PostcodeNearestInfo = ({postcode}: {postcode:string}) => {\n\n    const { data, loading, error } = useFetch(`https://api.postcodes.io/postcodes/${postcode}/nearest`);\n    const getData = (data: any): [] => {\n        if (data && data.result) return data.result;\n        else return [];\n    };\n\n    const postcodeData = React.useMemo(() => getData(data), [data]);\n\n    //Create table structure\n    const prepareSummaryTableColumns = () => {\n        const width:number[] = [50,100,100];\n        return [\n            {\n                Header: () => 'Nearest postcodes',\n                id: 'axes-header',\n                columns: ['postcode','region', 'country'].map((th, idx) => {\n                    return {\n                        Header:  th.charAt(0).toUpperCase() + th.slice(1),\n                        accessor: th,\n                        width: width[idx],\n                    };\n                }),\n            },\n        ];\n    };\n\n    //Fomat data to display as summary\n    const formatSummaryData = (data: any) => {\n        return data.map((entry: any) => ({ id: entry.postcode, region: entry.region, country:entry.country }));\n    };  \n\n    return (\n        <Wrapper>\n                {loading ? \n                ( <>\n                    <div className={classes.Loader} />\n                    <div className={classes.ContainerText}>Loading</div>\n                 </>\n                )\n                : Object.keys(error).length !== 0 ? (\n                        <div> Error while fetching data</div>\n                    ) :  <Table\n                    columns={prepareSummaryTableColumns()}\n                    data={formatSummaryData(postcodeData)}\n                    pageIndexValue={0}\n                    pageSizeValue={20}\n                />}\n            </Wrapper>\n       \n    )\n}"]},"metadata":{},"sourceType":"module"}