(this["webpackJsonpcontract-viewer-app"]=this["webpackJsonpcontract-viewer-app"]||[]).push([[0],{14:function(t,e,n){t.exports={Container:"ContractDisplay_Container__sIF7T",fullscreenDiv:"ContractDisplay_fullscreenDiv__14wfy",ContainerText:"ContractDisplay_ContainerText__1FhH_",Loader:"ContractDisplay_Loader__xk6Vd",spin:"ContractDisplay_spin__1sCTr"}},21:function(t,e,n){t.exports={Header:"Header_Header__1wSAE"}},23:function(t,e,n){t.exports={Content:"ParagraphComponent_Content__9cJdh"}},24:function(t,e,n){t.exports={fullscreenDiv:"ContractParagraphDisplay_fullscreenDiv__2T8EJ"}},31:function(t,e,n){},32:function(t,e,n){},39:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(20),o=n.n(r),i=(n(31),n(26)),s=(n(32),n(7)),u=n(21),l=n.n(u),d=n(1),j=function(t){var e=t.headerName;return Object(d.jsx)("header",{className:l.a.Header,children:e})},f=function(t){var e=t.history,n=t.children,a=c.a.useState("Contract Viewer"),r=Object(s.a)(a,2),o=r[0],i=r[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(j,{headerName:o}),c.a.cloneElement(n,{setHeaderName:i,history:e})]})},b=n(2),h=n(12),p=n(9),x=n.n(p),O=function(t){var e=t.setHeaderName,n=c.a.useState("dc89ff49-8449-11e7-ac1d-3c52820efd20"),a=Object(s.a)(n,1)[0],r=Object(b.f)();c.a.useEffect((function(){e&&e("Contract Viewer")}),[e]);return Object(d.jsx)("div",{className:x.a.fullscreenDiv,children:Object(d.jsx)("form",{onSubmit:function(t){if(t.preventDefault(),r){var e="/contracts/".concat(a);r.push(e)}},children:Object(d.jsxs)("div",{className:x.a.center,children:[Object(d.jsx)("label",{className:x.a.padding,htmlFor:"contractid",children:" Contract ID"}),Object(d.jsx)("input",{type:"text",name:"contractid",className:x.a.textbox,value:a,disabled:!0}),Object(d.jsx)("input",{type:"submit",className:x.a.button,value:"Submit"})]})})})},_=function(t){var e=Object(a.useState)({}),n=Object(s.a)(e,2),c=n[0],r=n[1],o=Object(a.useState)(!1),i=Object(s.a)(o,2),u=i[0],l=i[1],d=Object(a.useState)(void 0),j=Object(s.a)(d,2),f=j[0],b=j[1];return Object(a.useEffect)((function(){l(!0);try{fetch(t).then((function(t){if(!t.ok)throw Error(t.statusText);return t.json()})).then((function(t){r(t),l(!1)})).catch((function(t){b(t),l(!1)}))}catch(e){b(e),l(!1)}}),[t]),{data:c,loading:u,error:f}},v=n(14),m=n.n(v),g=n(25),C=n(23),D=n.n(C),w=function(t){return Object(d.jsx)("div",{className:D.a.Content,children:t.content})},E=n(24),y=n.n(E),N=function(t){var e=t.paragraphURL,n=Object(a.useState)([]),r=Object(s.a)(n,2),o=r[0],i=r[1],u=c.a.useState(1),l=Object(s.a)(u,2),j=l[0],f=l[1],b=c.a.useRef(null),h=_("".concat("http://localhost:3000").concat(e,"?page=").concat(j,"&pageSize=50")),p=h.data,x=h.loading,O=h.error;c.a.useEffect((function(){var t=function(){v()},e=function(){b.current&&Math.abs(b.current.getBoundingClientRect().bottom-window.innerHeight)<100&&f((function(t){return t+1}))};return window.addEventListener("scroll",e,!0),window.addEventListener("resize",t),function(){window.removeEventListener("scroll",e,!0),window.removeEventListener("resize",t)}}),[]);var v=function(){b.current&&window.innerHeight>b.current.scrollHeight&&f((function(t){return t+1}))};return c.a.useEffect((function(){x||O||0!==Object.keys(p).length&&"data"in p&&i((function(t){return[].concat(Object(g.a)(t),[p])}))}),[p,x,O]),c.a.useEffect((function(){0!==o.length&&v()}),[o]),Object(d.jsx)("div",{className:y.a.fullscreenDiv,ref:b,"data-testid":"contract-paragraphs",children:o.map((function(t){return Object(d.jsx)(w,{content:t.data.attributes.text?t.data.attributes.text:""})}))})},F=function(t){var e=t.setHeaderName,n=Object(b.g)().id,a=_("".concat("http://localhost:3000","/contracts/").concat(n)),r=a.data,o=a.loading,i=a.error;return c.a.useEffect((function(){r&&Object.keys(r).length>0&&e&&e(r.data.attributes.name)}),[r,e]),Object(d.jsx)("div",{className:m.a.fullscreenDiv,"data-testid":"contract-display",children:o?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:m.a.Loader}),Object(d.jsx)("div",{className:m.a.ContainerText,children:"Loading"})]}):i?"Error! ".concat(i.toString()):Object(d.jsx)(N,{paragraphURL:"/contracts/".concat(n,"/paragraphs")})})},S=function(t){return Object(d.jsx)(b.a,{exact:!0,path:t.path,render:function(e){return c.a.cloneElement(t.children,Object(i.a)({},e))}})};var H=function(){return Object(d.jsx)(h.a,{children:Object(d.jsxs)(b.c,{children:[Object(d.jsx)(S,{path:"/contracts/:id",children:Object(d.jsx)(f,{children:Object(d.jsx)(F,{})})}),Object(d.jsx)(S,{path:"/contract-viewer-app",children:Object(d.jsx)(f,{children:Object(d.jsx)(O,{})})})]})})},L=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),a(t),c(t),r(t),o(t)}))};o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(H,{})}),document.getElementById("root")),L()},9:function(t,e,n){t.exports={fullscreenDiv:"ContractIDForm_fullscreenDiv__ro1VE",center:"ContractIDForm_center__1qHTE",padding:"ContractIDForm_padding__238JS",textbox:"ContractIDForm_textbox__2_s-g",label:"ContractIDForm_label__1bxY1",button:"ContractIDForm_button__1KJxT"}}},[[39,1,2]]]);
//# sourceMappingURL=main.8d487bd4.chunk.js.map