{"ast":null,"code":"var _jsxFileName = \"/Users/seenanair/Desktop/CCDC_Demo/ccdc-app/src/DataBuilder/DataBuilder.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { InfoBox } from \"../Components/InfoBox/InfoBox\";\nimport { Table } from \"../Components/Table/Table\";\nimport Aux from \"../hoc/Aux\";\nimport { useFetch } from \"../hooks/useFetch\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DataBuilder = () => {\n  _s();\n\n  const [selectedDataIndex, setSelectedDataIndex] = React.useState(-1);\n  const {\n    data,\n    loading,\n    error\n  } = useFetch(`https://api.test.datacite.org/dois?query=prefix:10.5517`);\n\n  const prepareTableColumns = () => {\n    return [{\n      Header: () => \"Overview\",\n      id: \"axes-header\",\n      columns: [\"id\", \"title\"].map((th, idx) => {\n        return {\n          Header: th.toUpperCase(),\n          accessor: th\n        };\n      })\n    }];\n  };\n\n  const formatData = data => {\n    return data.map(entry => ({\n      id: entry.id,\n      title: entry.attributes.titles[0].title\n    }));\n  };\n\n  const getData = data => {\n    if (data && data.data && data.data.length > 0) return data.data;else return [];\n  };\n\n  const ccdData = getData(data);\n\n  const handleTableRowClick = indx => {\n    setSelectedDataIndex(indx);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Aux, {\n    children: ccdData.length > 0 && !loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Table, {\n        columns: prepareTableColumns(),\n        data: formatData(ccdData),\n        selectedRow: 0,\n        pageIndexValue: 0,\n        pageSizeValue: 10,\n        onRowClick: handleTableRowClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(InfoBox, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 16\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this) : \"\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n\n_s(DataBuilder, \"E2xlcPs+tVCK+uFgfQGMym4+w9I=\", false, function () {\n  return [useFetch];\n});\n\n_c = DataBuilder;\n\nvar _c;\n\n$RefreshReg$(_c, \"DataBuilder\");","map":{"version":3,"sources":["/Users/seenanair/Desktop/CCDC_Demo/ccdc-app/src/DataBuilder/DataBuilder.tsx"],"names":["React","InfoBox","Table","Aux","useFetch","DataBuilder","selectedDataIndex","setSelectedDataIndex","useState","data","loading","error","prepareTableColumns","Header","id","columns","map","th","idx","toUpperCase","accessor","formatData","entry","title","attributes","titles","getData","length","ccdData","handleTableRowClick","indx"],"mappings":";;;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,+BAAxB;AACA,SAASC,KAAT,QAAsB,2BAAtB;AACA,OAAOC,GAAP,MAAgB,YAAhB;AACA,SAASC,QAAT,QAAyB,mBAAzB;;AAEA,OAAO,MAAMC,WAAW,GAAG,MAAM;AAAA;;AAE/B,QAAM,CAACC,iBAAD,EAAmBC,oBAAnB,IAA2CP,KAAK,CAACQ,QAAN,CAAe,CAAC,CAAhB,CAAjD;AAEA,QAAM;AAACC,IAAAA,IAAD;AAAMC,IAAAA,OAAN;AAAcC,IAAAA;AAAd,MAAyBP,QAAQ,CAAE,yDAAF,CAAvC;;AAGA,QAAMQ,mBAAmB,GAAG,MAAM;AAC5B,WAAO,CACL;AACEC,MAAAA,MAAM,EAAE,MAAM,UADhB;AAEEC,MAAAA,EAAE,EAAE,aAFN;AAGEC,MAAAA,OAAO,EAAE,CAAC,IAAD,EAAO,OAAP,EAAgBC,GAAhB,CAAoB,CAACC,EAAD,EAAKC,GAAL,KAAa;AACxC,eAAO;AACLL,UAAAA,MAAM,EAAEI,EAAE,CAACE,WAAH,EADH;AAELC,UAAAA,QAAQ,EAAEH;AAFL,SAAP;AAID,OALQ;AAHX,KADK,CAAP;AAYD,GAbL;;AAcC,QAAMI,UAAU,GAAIZ,IAAD,IAAa;AAC3B,WAAOA,IAAI,CAACO,GAAL,CAAUM,KAAD,KAAgB;AAAER,MAAAA,EAAE,EAAEQ,KAAK,CAACR,EAAZ;AAAgBS,MAAAA,KAAK,EAAED,KAAK,CAACE,UAAN,CAAiBC,MAAjB,CAAwB,CAAxB,EAA2BF;AAAlD,KAAhB,CAAT,CAAP;AACJ,GAFD;;AAIA,QAAMG,OAAO,GAAIjB,IAAD,IAAmB;AAC9B,QAAGA,IAAI,IAAIA,IAAI,CAACA,IAAb,IAAqBA,IAAI,CAACA,IAAL,CAAUkB,MAAV,GAAiB,CAAzC,EACE,OAAOlB,IAAI,CAACA,IAAZ,CADF,KAGE,OAAO,EAAP;AACN,GALD;;AAOA,QAAMmB,OAAO,GAAGF,OAAO,CAACjB,IAAD,CAAvB;;AAEA,QAAMoB,mBAAmB,GAAIC,IAAD,IAAiB;AAC5CvB,IAAAA,oBAAoB,CAACuB,IAAD,CAApB;AACA,GAFD;;AAGC,sBACI,QAAC,GAAD;AAAA,cACKF,OAAO,CAACD,MAAR,GAAe,CAAf,IAAoB,CAACjB,OAArB,gBAED;AAAA,8BACA,QAAC,KAAD;AACG,QAAA,OAAO,EAAEE,mBAAmB,EAD/B;AAEG,QAAA,IAAI,EAAES,UAAU,CAACO,OAAD,CAFnB;AAGG,QAAA,WAAW,EAAE,CAHhB;AAIG,QAAA,cAAc,EAAG,CAJpB;AAKG,QAAA,aAAa,EAAE,EALlB;AAMG,QAAA,UAAU,EAAEC;AANf;AAAA;AAAA;AAAA;AAAA,cADA,eASG,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,cATH;AAAA;AAAA;AAAA;AAAA;AAAA,YAFC,GAaC;AAdN;AAAA;AAAA;AAAA;AAAA,UADJ;AAkBH,CAvDM;;GAAMxB,W;UAIoBD,Q;;;KAJpBC,W","sourcesContent":["\nimport React from \"react\";\nimport { InfoBox } from \"../Components/InfoBox/InfoBox\";\nimport { Table } from \"../Components/Table/Table\";\nimport Aux from \"../hoc/Aux\";\nimport { useFetch } from \"../hooks/useFetch\";\n\nexport const DataBuilder = () => {\n\n  const [selectedDataIndex,setSelectedDataIndex] = React.useState(-1);\n\n  const {data,loading,error} =   useFetch(`https://api.test.datacite.org/dois?query=prefix:10.5517`);\n\n\n  const prepareTableColumns = () => {\n        return [\n          {\n            Header: () => \"Overview\",\n            id: \"axes-header\",\n            columns: [\"id\", \"title\"].map((th, idx) => {\n              return {\n                Header: th.toUpperCase(),\n                accessor: th,\n              };\n            }),\n          },\n        ];\n      };\n   const formatData = (data:any)=> {\n        return data.map((entry:any) => ({ id: entry.id, title: entry.attributes.titles[0].title}))\n   }\n\n   const getData = (data:any) : [] => {\n        if(data && data.data && data.data.length>0)\n          return data.data;\n        else\n          return [];  \n   }\n\n   const ccdData = getData(data);\n      \n   const handleTableRowClick = (indx:number) => {\n    setSelectedDataIndex(indx);\n   }\n    return (\n        <Aux>\n            {ccdData.length>0 && !loading  \n            ? \n            <div>\n            <Table \n               columns={prepareTableColumns()} \n               data={formatData(ccdData)} \n               selectedRow={0} \n               pageIndexValue ={0} \n               pageSizeValue={10} \n               onRowClick={handleTableRowClick}\n               /> \n               <InfoBox/>\n            </div>\n            : \"\" }\n        </Aux>\n        )\n}\n\n\n"]},"metadata":{},"sourceType":"module"}