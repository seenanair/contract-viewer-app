{"ast":null,"code":"var _jsxFileName = \"/Users/seenanair/Desktop/Personal/INTERVIEW/DEMO/ThoughtRiver/case-details-app/src/pages/Display/CaseIDParagraphDisplay.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from '../../utils/axios';\nimport classes from './CaseIDParagraphDisplay.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CaseIDParagraphDisplay = ({\n  setHeaderName\n}) => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [paragraphData, setParaGraphData] = useState([]);\n  const [caseData, setCaseData] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState({});\n  const [paragraphNumber, setParagraphNumber] = React.useState(0);\n\n  const fetchData = async (apiUrl, isParagraphData) => {\n    try {\n      fetch(apiUrl).then(res => {\n        return res.json();\n      }).then(data => {\n        if (isParagraphData) {\n          setParaGraphData(prevState => [...prevState, data]);\n        } else setCaseData(data);\n\n        setLoading(false);\n      }).catch(error => {\n        setError(error);\n        setLoading(false);\n      });\n    } catch (err) {\n      setError(err);\n      setLoading(false);\n    }\n  };\n\n  const [customerList, setCustomerList] = useState([]);\n  React.useEffect(() => {\n    let mounted = true;\n\n    const fetchData = () => {\n      const apiEndPoint = '/api/customer/list';\n      axios.get(apiEndPoint).then(response => {\n        if (mounted) {\n          setCustomerList(response.data.customers);\n        }\n      });\n    };\n\n    fetchData();\n    return () => {\n      mounted = false;\n    };\n  }, [id]);\n  /* React.useEffect(() => {\n       //const baseURL = \"https://7012f4b2-84c0-4f96-8030-fc94e5ea201c.mock.pstmn.io/contracts/\"\n       const baseURL = \"http:/localhost:3000/employees:\"\n       fetchData(baseURL,false);\n       //fetchData(`${baseURL}${id}`,false);\n   },[id])*/\n  //Initialise header on mount\n\n  React.useEffect(() => {\n    if (Object.keys(caseData).length <= 0) return;\n    if (!setHeaderName) return;\n    setHeaderName(caseData.data.attributes[\"name\"]);\n    setParagraphNumber(1);\n  }, [caseData, setHeaderName]);\n  React.useEffect(() => {\n    if (paragraphNumber <= 0) return;\n    const baseURL = \"https://7012f4b2-84c0-4f96-8030-fc94e5ea201c.mock.pstmn.io/contracts/\";\n    const paraGraphURL = `${baseURL}${id}/paragraphs?page=${paragraphNumber}&pageSize=50`;\n    fetchData(paraGraphURL, true);\n  }, [paragraphNumber, id]);\n\n  const formatParagraphs = () => {\n    const data = paragraphData.map(val => {\n      const ret = val.data.attributes.text;\n      return ret;\n    });\n    return data;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.fullscreenDiv,\n    children: paragraphData.length > 0 && formatParagraphs()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 13\n  }, this);\n};\n\n_s(CaseIDParagraphDisplay, \"X95ut5F8zSj+to6X7HYJqOUG688=\", false, function () {\n  return [useParams];\n});\n\n_c = CaseIDParagraphDisplay;\n\nvar _c;\n\n$RefreshReg$(_c, \"CaseIDParagraphDisplay\");","map":{"version":3,"sources":["/Users/seenanair/Desktop/Personal/INTERVIEW/DEMO/ThoughtRiver/case-details-app/src/pages/Display/CaseIDParagraphDisplay.tsx"],"names":["React","useState","useParams","axios","classes","CaseIDParagraphDisplay","setHeaderName","id","paragraphData","setParaGraphData","caseData","setCaseData","loading","setLoading","error","setError","paragraphNumber","setParagraphNumber","fetchData","apiUrl","isParagraphData","fetch","then","res","json","data","prevState","catch","err","customerList","setCustomerList","useEffect","mounted","apiEndPoint","get","response","customers","Object","keys","length","attributes","baseURL","paraGraphURL","formatParagraphs","map","val","ret","text","fullscreenDiv"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from '../../utils/axios';\nimport Wrapper from '../../utils/Wrapper';\nimport classes from './CaseIDParagraphDisplay.module.css';\n\nexport const CaseIDParagraphDisplay = ({setHeaderName} : {setHeaderName?: (val:string)=>void}) => {\n    const { id } = useParams<{ id: string }>();\n    const [paragraphData, setParaGraphData] = useState<any>([]);\n    const [caseData, setCaseData] = useState<any>({});\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState({});\n    const [paragraphNumber,setParagraphNumber] = React.useState(0);\n  \n    const fetchData = async(apiUrl:string,isParagraphData:boolean) => {\n        try {\n            fetch(apiUrl)\n                .then((res) => {\n                    return res.json()\n                })\n                .then((data) => {\n                    if(isParagraphData)\n                    {\n                      setParaGraphData((prevState:any) => [...prevState, data] );\n                    }\n                    else setCaseData(data);\n                    setLoading(false);\n                }).catch(error => {\n                    setError(error);\n                    setLoading(false);\n                });\n        } catch (err) {\n            setError(err);\n            setLoading(false);\n        }\n    }\n    const [customerList, setCustomerList] = useState([]);    \n    React.useEffect(() => {      \n          let mounted = true;     \n         const fetchData = () => {     \n            const apiEndPoint = '/api/customer/list'   \n            axios.get(apiEndPoint).then((response) => {  \n                if (mounted) {\n                     setCustomerList(response.data.customers); \n                    }            \n                });        \n            }       \n             fetchData(); \n             return () => { \n                            mounted = false;   \n                             };  \n    }, [id]);\n   /* React.useEffect(() => {\n        //const baseURL = \"https://7012f4b2-84c0-4f96-8030-fc94e5ea201c.mock.pstmn.io/contracts/\"\n        const baseURL = \"http:/localhost:3000/employees:\"\n        fetchData(baseURL,false);\n        //fetchData(`${baseURL}${id}`,false);\n    },[id])*/\n\n    //Initialise header on mount\n    React.useEffect(()=> {\n        if(Object.keys(caseData).length<=0)\n         return;\n        if(!setHeaderName)\n         return;\n        setHeaderName(caseData.data.attributes[\"name\"]);\n        setParagraphNumber(1);\n    },[caseData, setHeaderName])\n    \n    React.useEffect(()=> {\n        if(paragraphNumber<=0)\n        return;\n        const baseURL = \"https://7012f4b2-84c0-4f96-8030-fc94e5ea201c.mock.pstmn.io/contracts/\"\n        const paraGraphURL= `${baseURL}${id}/paragraphs?page=${paragraphNumber}&pageSize=50`\n        fetchData(paraGraphURL,true);\n    },[paragraphNumber, id])\n    \n    const formatParagraphs = ()=> {\n        const data =  paragraphData.map((val:any)=> {\n            const ret = val.data.attributes.text;\n            return ret;\n        }) \n        return data;  \n    }\n    \n    return (\n    \n            <div className={classes.fullscreenDiv} >\n                {paragraphData.length>0 && formatParagraphs()}\n            </div>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}