{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react'; //Custom hook for fetch\n\nexport const useFetch = apiUrl => {\n  _s();\n\n  const [data, setData] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState({});\n  useEffect(() => {\n    setLoading(true);\n    setError({});\n    let isFetch = true;\n\n    try {\n      fetch(apiUrl).then(res => {\n        return res.json();\n      }).then(data => {\n        setLoading(false);\n\n        if (\"error\" in data) {\n          throw Error(data.error);\n        }\n\n        if (isFetch) setData(data);\n      }).catch(error => {\n        setError(error);\n        setLoading(false);\n      });\n    } catch (err) {\n      setError(err);\n      setLoading(false);\n    }\n\n    return () => {\n      isFetch = false;\n    };\n  }, [apiUrl]);\n  return {\n    data,\n    loading,\n    error\n  };\n};\n\n_s(useFetch, \"eXfOEO5exAijFQD8TQP923kBG14=\");","map":{"version":3,"sources":["/Users/seenanair/Desktop/Personal/INTERVIEW/DEMO/FEATURE_SPACE/FeatureSpace_Demo/feature-space-app/src/hooks/useFetch.ts"],"names":["useEffect","useState","useFetch","apiUrl","data","setData","loading","setLoading","error","setError","isFetch","fetch","then","res","json","Error","catch","err"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC,C,CAEA;;AACA,OAAO,MAAMC,QAAQ,GAAIC,MAAD,IAAoB;AAAA;;AACxC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBJ,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACK,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACO,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,EAAD,CAAlC;AACAD,EAAAA,SAAS,CAAC,MAAM;AACZO,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAE,IAAAA,QAAQ,CAAC,EAAD,CAAR;AACA,QAAIC,OAAO,GAAG,IAAd;;AACA,QAAI;AACAC,MAAAA,KAAK,CAACR,MAAD,CAAL,CACKS,IADL,CACWC,GAAD,IAAS;AACX,eAAOA,GAAG,CAACC,IAAJ,EAAP;AACH,OAHL,EAIKF,IAJL,CAIWR,IAAD,IAAU;AACZG,QAAAA,UAAU,CAAC,KAAD,CAAV;;AACA,YAAG,WAAWH,IAAd,EACA;AACI,gBAAMW,KAAK,CAACX,IAAI,CAACI,KAAN,CAAX;AACH;;AACD,YAAIE,OAAJ,EAAaL,OAAO,CAACD,IAAD,CAAP;AAChB,OAXL,EAWOY,KAXP,CAWaR,KAAK,IAAI;AACdC,QAAAA,QAAQ,CAACD,KAAD,CAAR;AACAD,QAAAA,UAAU,CAAC,KAAD,CAAV;AACH,OAdL;AAeH,KAhBD,CAgBE,OAAOU,GAAP,EAAY;AACVR,MAAAA,QAAQ,CAACQ,GAAD,CAAR;AACAV,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH;;AACD,WAAO,MAAM;AACTG,MAAAA,OAAO,GAAG,KAAV;AACH,KAFD;AAGH,GA3BQ,EA2BN,CAACP,MAAD,CA3BM,CAAT;AA6BA,SAAO;AAAEC,IAAAA,IAAF;AAAQE,IAAAA,OAAR;AAAiBE,IAAAA;AAAjB,GAAP;AACH,CAlCM;;GAAMN,Q","sourcesContent":["import { useEffect, useState } from 'react';\n\n//Custom hook for fetch\nexport const useFetch = (apiUrl: string) => {\n    const [data, setData] = useState({});\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState({});\n    useEffect(() => {\n        setLoading(true);\n        setError({});\n        let isFetch = true;\n        try {\n            fetch(apiUrl)\n                .then((res) => {\n                    return res.json()\n                })\n                .then((data) => {\n                    setLoading(false);\n                    if(\"error\" in data)\n                    {\n                        throw(Error(data.error))\n                    }\n                    if (isFetch) setData(data);\n                }).catch(error => {\n                    setError(error);\n                    setLoading(false);\n                });\n        } catch (err) {\n            setError(err);\n            setLoading(false);\n        }\n        return () => {\n            isFetch = false;\n        };\n    }, [apiUrl]);\n\n    return { data, loading, error };\n};\n\n\n"]},"metadata":{},"sourceType":"module"}